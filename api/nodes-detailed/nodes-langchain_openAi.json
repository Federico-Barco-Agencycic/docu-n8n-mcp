{
  "node_type": "nodes-langchain.openAi",
  "package_name": "@n8n/n8n-nodes-langchain",
  "display_name": "OpenAI",
  "description": "Message an assistant or GPT, analyze images, generate audio, etc.",
  "category": "transform",
  "development_style": "programmatic",
  "is_ai_tool": 1,
  "is_trigger": 0,
  "is_webhook": 0,
  "is_versioned": 1,
  "version": "1.8",
  "documentation": null,
  "properties_schema": [
    {
      "displayName": "Resource",
      "name": "resource",
      "type": "options",
      "default": "text",
      "options": [
        {
          "name": "Assistant",
          "value": "assistant"
        },
        {
          "name": "Text",
          "value": "text"
        },
        {
          "name": "Image",
          "value": "image"
        },
        {
          "name": "Audio",
          "value": "audio"
        },
        {
          "name": "File",
          "value": "file"
        }
      ],
      "noDataExpression": true
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "default": "message",
      "options": [
        {
          "name": "Create an Assistant",
          "value": "create",
          "action": "Create an assistant",
          "description": "Create a new assistant"
        },
        {
          "name": "Delete an Assistant",
          "value": "deleteAssistant",
          "action": "Delete an assistant",
          "description": "Delete an assistant from the account"
        },
        {
          "name": "List Assistants",
          "value": "list",
          "action": "List assistants",
          "description": "List assistants in the organization"
        },
        {
          "name": "Message an Assistant",
          "value": "message",
          "action": "Message an assistant",
          "description": "Send messages to an assistant"
        },
        {
          "name": "Update an Assistant",
          "value": "update",
          "action": "Update an assistant",
          "description": "Update an existing assistant"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "assistant"
          ]
        }
      },
      "noDataExpression": true
    },
    {
      "displayName": "Model",
      "name": "modelId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Name",
      "name": "name",
      "type": "string",
      "default": "",
      "description": "The name of the assistant. The maximum length is 256 characters.",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Description",
      "name": "description",
      "type": "string",
      "default": "",
      "description": "The description of the assistant. The maximum length is 512 characters.",
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Instructions",
      "name": "instructions",
      "type": "string",
      "default": "",
      "description": "The system instructions that the assistant uses. The maximum length is 32768 characters.",
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      }
    },
    {
      "displayName": "Code Interpreter",
      "name": "codeInterpreter",
      "type": "boolean",
      "default": false,
      "description": "Whether to enable the code interpreter that allows the assistants to write and run Python code in a sandboxed execution environment, find more <a href=\"https://platform.openai.com/docs/assistants/tools/code-interpreter\" target=\"_blank\">here</a>",
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Knowledge Retrieval",
      "name": "knowledgeRetrieval",
      "type": "boolean",
      "default": false,
      "description": "Whether to augments the assistant with knowledge from outside its model, such as proprietary product information or documents, find more <a href=\"https://platform.openai.com/docs/assistants/tools/knowledge-retrieval\" target=\"_blank\">here</a>",
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Files",
      "name": "file_ids",
      "type": "multiOptions",
      "default": [],
      "description": "The files to be used by the assistant, there can be a maximum of 20 files attached to the assistant. You can use expression to pass file IDs as an array or comma-separated string.",
      "displayOptions": {
        "show": {
          "codeInterpreter": [
            true
          ],
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        },
        "hide": {
          "knowledgeRetrieval": [
            true
          ]
        }
      },
      "typeOptions": {
        "loadOptionsMethod": "getFiles"
      }
    },
    {
      "displayName": "Files",
      "name": "file_ids",
      "type": "multiOptions",
      "default": [],
      "description": "The files to be used by the assistant, there can be a maximum of 20 files attached to the assistant",
      "displayOptions": {
        "show": {
          "knowledgeRetrieval": [
            true
          ],
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        },
        "hide": {
          "codeInterpreter": [
            true
          ]
        }
      },
      "typeOptions": {
        "loadOptionsMethod": "getFiles"
      }
    },
    {
      "displayName": "Files",
      "name": "file_ids",
      "type": "multiOptions",
      "default": [],
      "description": "The files to be used by the assistant, there can be a maximum of 20 files attached to the assistant",
      "displayOptions": {
        "show": {
          "knowledgeRetrieval": [
            true
          ],
          "codeInterpreter": [
            true
          ],
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      },
      "typeOptions": {
        "loadOptionsMethod": "getFiles"
      }
    },
    {
      "displayName": "Add custom n8n tools when you <i>message</i> your assistant (rather than when creating it)",
      "name": "noticeTools",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Output Randomness (Temperature)",
          "name": "temperature",
          "default": 1,
          "typeOptions": {
            "maxValue": 1,
            "minValue": 0,
            "numberPrecision": 1
          },
          "description": "Controls randomness: Lowering results in less random completions. As the temperature approaches zero, the model will become deterministic and repetitive. We generally recommend altering this or temperature but not both.",
          "type": "number"
        },
        {
          "displayName": "Output Randomness (Top P)",
          "name": "topP",
          "default": 1,
          "typeOptions": {
            "maxValue": 1,
            "minValue": 0,
            "numberPrecision": 1
          },
          "description": "An alternative to sampling with temperature, controls diversity via nucleus sampling: 0.5 means half of all likelihood-weighted options are considered. We generally recommend altering this or temperature but not both.",
          "type": "number"
        },
        {
          "displayName": "Fail if Assistant Already Exists",
          "name": "failIfExists",
          "type": "boolean",
          "default": false,
          "description": "Whether to fail an operation if the assistant with the same name already exists"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "create"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Assistant",
      "name": "assistantId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "description": "Assistant to respond to the message. You can add, modify or remove assistants in the <a href=\"https://platform.openai.com/playground?mode=assistant\" target=\"_blank\">playground</a>.",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "deleteAssistant"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Assistant",
      "name": "assistantId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "description": "Assistant to respond to the message. You can add, modify or remove assistants in the <a href=\"https://platform.openai.com/playground?mode=assistant\" target=\"_blank\">playground</a>.",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Source for Prompt (User Message)",
      "name": "prompt",
      "type": "options",
      "default": "auto",
      "options": [
        {
          "name": "Connected Chat Trigger Node",
          "value": "auto",
          "description": "Looks for an input field called 'chatInput' that is coming from a directly connected Chat Trigger"
        },
        {
          "name": "Define below",
          "value": "define",
          "description": "Use an expression to reference data in previous nodes or enter static text"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Prompt (User Message)",
      "name": "text",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "prompt": [
            "define"
          ],
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      }
    },
    {
      "displayName": "Memory",
      "name": "memory",
      "type": "options",
      "default": "connector",
      "options": [
        {
          "name": "Use memory connector",
          "value": "connector",
          "description": "Connect one of the supported memory nodes"
        },
        {
          "name": "Use thread ID",
          "value": "threadId",
          "description": "Specify the ID of the thread to continue"
        }
      ],
      "displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.6
              }
            }
          ],
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Thread ID",
      "name": "threadId",
      "type": "string",
      "default": "",
      "description": "The ID of the thread to continue, a new thread will be created if not specified",
      "displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.6
              }
            }
          ],
          "memory": [
            "threadId"
          ],
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Connect your own custom n8n tools to this node on the canvas",
      "name": "noticeTools",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "description": "Additional options to add",
      "options": [
        {
          "displayName": "Base URL",
          "name": "baseURL",
          "default": "https://api.openai.com/v1",
          "description": "Override the default base URL for the API",
          "type": "string",
          "displayOptions": {
            "hide": {
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.8
                  }
                }
              ]
            }
          }
        },
        {
          "displayName": "Max Retries",
          "name": "maxRetries",
          "default": 2,
          "description": "Maximum number of retries to attempt",
          "type": "number"
        },
        {
          "displayName": "Timeout",
          "name": "timeout",
          "default": 10000,
          "description": "Maximum amount of time a request is allowed to take in milliseconds",
          "type": "number"
        },
        {
          "displayName": "Preserve Original Tools",
          "name": "preserveOriginalTools",
          "type": "boolean",
          "default": true,
          "description": "Whether to preserve the original tools of the assistant after the execution of this node, otherwise the tools will be replaced with the connected tools, if any, default is true",
          "displayOptions": {
            "show": {
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.3
                  }
                }
              ]
            }
          }
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Simplify Output",
      "name": "simplify",
      "type": "boolean",
      "default": true,
      "description": "Whether to return a simplified version of the response instead of the raw data",
      "displayOptions": {
        "show": {
          "operation": [
            "list"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Assistant",
      "name": "assistantId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "description": "Assistant to respond to the message. You can add, modify or remove assistants in the <a href=\"https://platform.openai.com/playground?mode=assistant\" target=\"_blank\">playground</a>.",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "update"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Code Interpreter",
          "name": "codeInterpreter",
          "type": "boolean",
          "default": false,
          "description": "Whether to enable the code interpreter that allows the assistants to write and run Python code in a sandboxed execution environment, find more <a href=\"https://platform.openai.com/docs/assistants/tools/code-interpreter\" target=\"_blank\">here</a>"
        },
        {
          "displayName": "Description",
          "name": "description",
          "type": "string",
          "default": "",
          "description": "The description of the assistant. The maximum length is 512 characters.",
          "placeholder": "e.g. My personal assistant"
        },
        {
          "displayName": "Files",
          "name": "file_ids",
          "type": "multiOptions",
          "description": "The files to be used by the assistant, there can be a maximum of 20 files attached to the assistant. You can use expression to pass file IDs as an array or comma-separated string.",
          "typeOptions": {
            "loadOptionsMethod": "getFiles"
          },
          "default": [],
          "hint": "Add more files by using the 'Upload a File' operation, any existing files not selected here will be removed."
        },
        {
          "displayName": "Instructions",
          "name": "instructions",
          "type": "string",
          "description": "The system instructions that the assistant uses. The maximum length is 32768 characters.",
          "default": "",
          "typeOptions": {
            "rows": 2
          }
        },
        {
          "displayName": "Knowledge Retrieval",
          "name": "knowledgeRetrieval",
          "type": "boolean",
          "default": false,
          "description": "Whether to augments the assistant with knowledge from outside its model, such as proprietary product information or documents, find more <a href=\"https://platform.openai.com/docs/assistants/tools/knowledge-retrieval\" target=\"_blank\">here</a>"
        },
        {
          "displayName": "Model",
          "name": "modelId",
          "type": "resourceLocator",
          "default": {
            "mode": "list",
            "value": ""
          },
          "required": false,
          "modes": [
            {
              "displayName": "From List",
              "name": "list",
              "type": "list",
              "typeOptions": {
                "searchListMethod": "modelSearch",
                "searchable": true
              }
            },
            {
              "displayName": "ID",
              "name": "id",
              "type": "string",
              "placeholder": "e.g. gpt-4"
            }
          ]
        },
        {
          "displayName": "Name",
          "name": "name",
          "type": "string",
          "default": "",
          "description": "The name of the assistant. The maximum length is 256 characters.",
          "placeholder": "e.g. My Assistant"
        },
        {
          "displayName": "Remove All Custom Tools (Functions)",
          "name": "removeCustomTools",
          "type": "boolean",
          "default": false,
          "description": "Whether to remove all custom tools (functions) from the assistant"
        },
        {
          "displayName": "Output Randomness (Temperature)",
          "name": "temperature",
          "default": 1,
          "typeOptions": {
            "maxValue": 1,
            "minValue": 0,
            "numberPrecision": 1
          },
          "description": "Controls randomness: Lowering results in less random completions. As the temperature approaches zero, the model will become deterministic and repetitive. We generally recommend altering this or temperature but not both.",
          "type": "number"
        },
        {
          "displayName": "Output Randomness (Top P)",
          "name": "topP",
          "default": 1,
          "typeOptions": {
            "maxValue": 1,
            "minValue": 0,
            "numberPrecision": 1
          },
          "description": "An alternative to sampling with temperature, controls diversity via nucleus sampling: 0.5 means half of all likelihood-weighted options are considered. We generally recommend altering this or temperature but not both.",
          "type": "number"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "update"
          ],
          "resource": [
            "assistant"
          ]
        }
      }
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "default": "generate",
      "options": [
        {
          "name": "Generate Audio",
          "value": "generate",
          "action": "Generate audio",
          "description": "Creates audio from a text prompt"
        },
        {
          "name": "Transcribe a Recording",
          "value": "transcribe",
          "action": "Transcribe a recording",
          "description": "Transcribes audio into the text"
        },
        {
          "name": "Translate a Recording",
          "value": "translate",
          "action": "Translate a recording",
          "description": "Translate audio into the text in the english language"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "audio"
          ]
        }
      },
      "noDataExpression": true
    },
    {
      "displayName": "OpenAI API limits the size of the audio file to 25 MB",
      "name": "fileSizeLimitNotice",
      "type": "notice",
      "default": " ",
      "displayOptions": {
        "show": {
          "resource": [
            "audio"
          ],
          "operation": [
            "translate",
            "transcribe"
          ]
        }
      }
    },
    {
      "displayName": "Model",
      "name": "model",
      "type": "options",
      "default": "tts-1",
      "options": [
        {
          "name": "TTS-1",
          "value": "tts-1"
        },
        {
          "name": "TTS-1-HD",
          "value": "tts-1-hd"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Text Input",
      "name": "input",
      "type": "string",
      "default": "",
      "description": "The text to generate audio for. The maximum length is 4096 characters.",
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "audio"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      }
    },
    {
      "displayName": "Voice",
      "name": "voice",
      "type": "options",
      "default": "alloy",
      "description": "The voice to use when generating the audio",
      "options": [
        {
          "name": "Alloy",
          "value": "alloy"
        },
        {
          "name": "Echo",
          "value": "echo"
        },
        {
          "name": "Fable",
          "value": "fable"
        },
        {
          "name": "Nova",
          "value": "nova"
        },
        {
          "name": "Onyx",
          "value": "onyx"
        },
        {
          "name": "Shimmer",
          "value": "shimmer"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Response Format",
          "name": "response_format",
          "type": "options",
          "default": "mp3",
          "options": [
            {
              "name": "MP3",
              "value": "mp3"
            },
            {
              "name": "OPUS",
              "value": "opus"
            },
            {
              "name": "AAC",
              "value": "aac"
            },
            {
              "name": "FLAC",
              "value": "flac"
            }
          ]
        },
        {
          "displayName": "Audio Speed",
          "name": "speed",
          "type": "number",
          "default": 1,
          "typeOptions": {
            "minValue": 0.25,
            "maxValue": 4,
            "numberPrecision": 1
          }
        },
        {
          "displayName": "Put Output in Field",
          "name": "binaryPropertyOutput",
          "type": "string",
          "default": "data",
          "hint": "The name of the output field to put the binary file data in"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Input Data Field Name",
      "name": "binaryPropertyName",
      "type": "string",
      "default": "data",
      "description": "Name of the binary property which contains the audio file in one of these formats: flac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, or webm",
      "displayOptions": {
        "show": {
          "operation": [
            "transcribe"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Language of the Audio File",
          "name": "language",
          "type": "string",
          "description": "The language of the input audio. Supplying the input language in <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes\" target=\"_blank\">ISO-639-1</a> format will improve accuracy and latency.",
          "default": ""
        },
        {
          "displayName": "Output Randomness (Temperature)",
          "name": "temperature",
          "type": "number",
          "default": 0,
          "typeOptions": {
            "minValue": 0,
            "maxValue": 1,
            "numberPrecision": 1
          }
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "transcribe"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Input Data Field Name",
      "name": "binaryPropertyName",
      "type": "string",
      "default": "data",
      "description": "Name of the binary property which contains the audio file in one of these formats: flac, mp3, mp4, mpeg, mpga, m4a, ogg, wav, or webm",
      "displayOptions": {
        "show": {
          "operation": [
            "translate"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Output Randomness (Temperature)",
          "name": "temperature",
          "type": "number",
          "default": 0,
          "typeOptions": {
            "minValue": 0,
            "maxValue": 1,
            "numberPrecision": 1
          }
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "translate"
          ],
          "resource": [
            "audio"
          ]
        }
      }
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "default": "upload",
      "options": [
        {
          "name": "Delete a File",
          "value": "deleteFile",
          "action": "Delete a file",
          "description": "Delete a file from the server"
        },
        {
          "name": "List Files",
          "value": "list",
          "action": "List files",
          "description": "Returns a list of files that belong to the user's organization"
        },
        {
          "name": "Upload a File",
          "value": "upload",
          "action": "Upload a file",
          "description": "Upload a file that can be used across various endpoints"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "file"
          ]
        }
      },
      "noDataExpression": true
    },
    {
      "displayName": "Input Data Field Name",
      "name": "binaryPropertyName",
      "type": "string",
      "default": "data",
      "description": "Name of the binary property which contains the file. The size of individual files can be a maximum of 512 MB or 2 million tokens for Assistants.",
      "displayOptions": {
        "show": {
          "operation": [
            "upload"
          ],
          "resource": [
            "file"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Purpose",
          "name": "purpose",
          "type": "options",
          "default": "assistants",
          "description": "The intended purpose of the uploaded file, the 'Fine-tuning' only supports .jsonl files",
          "options": [
            {
              "name": "Assistants",
              "value": "assistants"
            },
            {
              "name": "Fine-Tune",
              "value": "fine-tune"
            }
          ]
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "upload"
          ],
          "resource": [
            "file"
          ]
        }
      }
    },
    {
      "displayName": "File",
      "name": "fileId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "deleteFile"
          ],
          "resource": [
            "file"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Purpose",
          "name": "purpose",
          "type": "options",
          "default": "any",
          "description": "Only return files with the given purpose",
          "options": [
            {
              "name": "Any [Default]",
              "value": "any"
            },
            {
              "name": "Assistants",
              "value": "assistants"
            },
            {
              "name": "Fine-Tune",
              "value": "fine-tune"
            }
          ]
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "list"
          ],
          "resource": [
            "file"
          ]
        }
      }
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "default": "generate",
      "options": [
        {
          "name": "Analyze Image",
          "value": "analyze",
          "action": "Analyze image",
          "description": "Take in images and answer questions about them"
        },
        {
          "name": "Generate an Image",
          "value": "generate",
          "action": "Generate an image",
          "description": "Creates an image from a text prompt"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "image"
          ]
        }
      },
      "noDataExpression": true
    },
    {
      "displayName": "Model",
      "name": "model",
      "type": "options",
      "default": "dall-e-3",
      "description": "The model to use for image generation",
      "options": [
        {
          "name": "DALL·E 2",
          "value": "dall-e-2"
        },
        {
          "name": "DALL·E 3",
          "value": "dall-e-3"
        },
        {
          "name": "GPT Image 1",
          "value": "gpt-image-1"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Prompt",
      "name": "prompt",
      "type": "string",
      "default": "",
      "description": "A text description of the desired image(s). The maximum length is 1000 characters for dall-e-2 and 4000 characters for dall-e-3.",
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "image"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Number of Images",
          "name": "n",
          "default": 1,
          "description": "Number of images to generate",
          "type": "number",
          "typeOptions": {
            "minValue": 1,
            "maxValue": 10
          },
          "displayOptions": {
            "show": {
              "/model": [
                "dall-e-2"
              ]
            }
          }
        },
        {
          "displayName": "Quality",
          "name": "dalleQuality",
          "type": "options",
          "description": "The quality of the image that will be generated, HD creates images with finer details and greater consistency across the image",
          "options": [
            {
              "name": "HD",
              "value": "hd"
            },
            {
              "name": "Standard",
              "value": "standard"
            }
          ],
          "displayOptions": {
            "show": {
              "/model": [
                "dall-e-3"
              ]
            }
          },
          "default": "standard"
        },
        {
          "displayName": "Quality",
          "name": "quality",
          "type": "options",
          "description": "The quality of the image that will be generated, High creates images with finer details and greater consistency across the image",
          "options": [
            {
              "name": "High",
              "value": "high"
            },
            {
              "name": "Medium",
              "value": "medium"
            },
            {
              "name": "Low",
              "value": "low"
            }
          ],
          "displayOptions": {
            "show": {
              "/model": [
                "gpt-image-1"
              ]
            }
          },
          "default": "medium"
        },
        {
          "displayName": "Resolution",
          "name": "size",
          "type": "options",
          "options": [
            {
              "name": "256x256",
              "value": "256x256"
            },
            {
              "name": "512x512",
              "value": "512x512"
            },
            {
              "name": "1024x1024",
              "value": "1024x1024"
            }
          ],
          "displayOptions": {
            "show": {
              "/model": [
                "dall-e-2"
              ]
            }
          },
          "default": "1024x1024"
        },
        {
          "displayName": "Resolution",
          "name": "size",
          "type": "options",
          "options": [
            {
              "name": "1024x1024",
              "value": "1024x1024"
            },
            {
              "name": "1792x1024",
              "value": "1792x1024"
            },
            {
              "name": "1024x1792",
              "value": "1024x1792"
            }
          ],
          "displayOptions": {
            "show": {
              "/model": [
                "dall-e-3"
              ]
            }
          },
          "default": "1024x1024"
        },
        {
          "displayName": "Resolution",
          "name": "size",
          "type": "options",
          "options": [
            {
              "name": "1024x1024",
              "value": "1024x1024"
            },
            {
              "name": "1024x1536",
              "value": "1024x1536"
            },
            {
              "name": "1536x1024",
              "value": "1536x1024"
            }
          ],
          "displayOptions": {
            "show": {
              "/model": [
                "gpt-image-1"
              ]
            }
          },
          "default": "1024x1024"
        },
        {
          "displayName": "Style",
          "name": "style",
          "type": "options",
          "options": [
            {
              "name": "Natural",
              "value": "natural",
              "description": "Produce more natural looking images"
            },
            {
              "name": "Vivid",
              "value": "vivid",
              "description": "Lean towards generating hyper-real and dramatic images"
            }
          ],
          "displayOptions": {
            "show": {
              "/model": [
                "dall-e-3"
              ]
            }
          },
          "default": "vivid"
        },
        {
          "displayName": "Respond with Image URL(s)",
          "name": "returnImageUrls",
          "type": "boolean",
          "default": false,
          "description": "Whether to return image URL(s) instead of binary file(s)",
          "displayOptions": {
            "hide": {
              "/model": [
                "gpt-image-1"
              ]
            }
          }
        },
        {
          "displayName": "Put Output in Field",
          "name": "binaryPropertyOutput",
          "type": "string",
          "default": "data",
          "hint": "The name of the output field to put the binary file data in",
          "displayOptions": {
            "show": {
              "returnImageUrls": [
                false
              ]
            }
          }
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "generate"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Model",
      "name": "modelId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "required": true,
      "displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.4
              }
            }
          ],
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Text Input",
      "name": "text",
      "type": "string",
      "default": "What's in this image?",
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      }
    },
    {
      "displayName": "Input Type",
      "name": "inputType",
      "type": "options",
      "default": "url",
      "options": [
        {
          "name": "Image URL(s)",
          "value": "url"
        },
        {
          "name": "Binary File(s)",
          "value": "base64"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "URL(s)",
      "name": "imageUrls",
      "type": "string",
      "default": "",
      "description": "URL(s) of the image(s) to analyze, multiple URLs can be added separated by comma",
      "displayOptions": {
        "show": {
          "inputType": [
            "url"
          ],
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Input Data Field Name",
      "name": "binaryPropertyName",
      "type": "string",
      "default": "data",
      "description": "Name of the binary property which contains the image(s)",
      "displayOptions": {
        "show": {
          "inputType": [
            "base64"
          ],
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Simplify Output",
      "name": "simplify",
      "type": "boolean",
      "default": true,
      "description": "Whether to simplify the response or not",
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Detail",
          "name": "detail",
          "type": "options",
          "default": "auto",
          "options": [
            {
              "name": "Auto",
              "value": "auto",
              "description": "Model will look at the image input size and decide if it should use the low or high setting"
            },
            {
              "name": "Low",
              "value": "low",
              "description": "Return faster responses and consume fewer tokens"
            },
            {
              "name": "High",
              "value": "high",
              "description": "Return more detailed responses, consumes more tokens"
            }
          ]
        },
        {
          "displayName": "Length of Description (Max Tokens)",
          "description": "Fewer tokens will result in shorter, less detailed image description",
          "name": "maxTokens",
          "type": "number",
          "default": 300,
          "typeOptions": {
            "minValue": 1
          }
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "default": "message",
      "options": [
        {
          "name": "Message a Model",
          "value": "message",
          "action": "Message a model",
          "description": "Create a completion with GPT 3, 4, etc."
        },
        {
          "name": "Classify Text for Violations",
          "value": "classify",
          "action": "Classify text for violations",
          "description": "Check whether content complies with usage policies"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "text"
          ]
        }
      },
      "noDataExpression": true
    },
    {
      "displayName": "Text Input",
      "name": "input",
      "type": "string",
      "default": "",
      "description": "The input text to classify if it is violates the moderation policy",
      "displayOptions": {
        "show": {
          "operation": [
            "classify"
          ],
          "resource": [
            "text"
          ]
        }
      },
      "typeOptions": {
        "rows": 2
      }
    },
    {
      "displayName": "Simplify Output",
      "name": "simplify",
      "type": "boolean",
      "default": false,
      "description": "Whether to return a simplified version of the response instead of the raw data",
      "displayOptions": {
        "show": {
          "operation": [
            "classify"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Use Stable Model",
          "name": "useStableModel",
          "type": "boolean",
          "default": false,
          "description": "Whether to use the stable version of the model instead of the latest version, accuracy may be slightly lower"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "classify"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Model",
      "name": "modelId",
      "type": "resourceLocator",
      "default": {
        "mode": "list",
        "value": ""
      },
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Messages",
      "name": "messages",
      "type": "fixedCollection",
      "default": {
        "values": [
          {
            "content": ""
          }
        ]
      },
      "options": [
        {
          "displayName": "Values",
          "name": "values",
          "values": [
            {
              "displayName": "Prompt",
              "name": "content",
              "type": "string",
              "description": "The content of the message to be send",
              "default": "",
              "placeholder": "e.g. Hello, how can you help me?",
              "typeOptions": {
                "rows": 2
              }
            },
            {
              "displayName": "Role",
              "name": "role",
              "type": "options",
              "description": "Role in shaping the model's response, it tells the model how it should behave and interact with the user",
              "options": [
                {
                  "name": "User",
                  "value": "user",
                  "description": "Send a message as a user and get a response from the model"
                },
                {
                  "name": "Assistant",
                  "value": "assistant",
                  "description": "Tell the model to adopt a specific tone or personality"
                },
                {
                  "name": "System",
                  "value": "system",
                  "description": "Usually used to set the model's behavior or context for the next user message"
                }
              ],
              "default": "user"
            }
          ]
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      },
      "typeOptions": {
        "sortable": true,
        "multipleValues": true
      }
    },
    {
      "displayName": "Simplify Output",
      "name": "simplify",
      "type": "boolean",
      "default": true,
      "description": "Whether to return a simplified version of the response instead of the raw data",
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Output Content as JSON",
      "name": "jsonOutput",
      "type": "boolean",
      "default": false,
      "description": "Whether to attempt to return the response in JSON format. Compatible with GPT-4 Turbo and all GPT-3.5 Turbo models newer than gpt-3.5-turbo-1106.",
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Hide Tools",
      "name": "hideTools",
      "type": "hidden",
      "default": "hide",
      "displayOptions": {
        "show": {
          "modelId": [
            "gpt-3.5-turbo-16k-0613",
            "dall-e-3",
            "text-embedding-3-large",
            "dall-e-2",
            "whisper-1",
            "tts-1-hd-1106",
            "tts-1-hd",
            "gpt-4-0314",
            "text-embedding-3-small",
            "gpt-4-32k-0314",
            "gpt-3.5-turbo-0301",
            "gpt-4-vision-preview",
            "gpt-3.5-turbo-16k",
            "gpt-3.5-turbo-instruct-0914",
            "tts-1",
            "davinci-002",
            "gpt-3.5-turbo-instruct",
            "babbage-002",
            "tts-1-1106",
            "text-embedding-ada-002"
          ],
          "@version": [
            {
              "_cnd": {
                "gte": 1.2
              }
            }
          ],
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Connect your own custom n8n tools to this node on the canvas",
      "name": "noticeTools",
      "type": "notice",
      "default": "",
      "displayOptions": {
        "hide": {
          "hideTools": [
            "hide"
          ]
        },
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Frequency Penalty",
          "name": "frequency_penalty",
          "default": 0,
          "typeOptions": {
            "maxValue": 2,
            "minValue": -2,
            "numberPrecision": 1
          },
          "description": "Positive values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim",
          "type": "number"
        },
        {
          "displayName": "Maximum Number of Tokens",
          "name": "maxTokens",
          "default": 16,
          "description": "The maximum number of tokens to generate in the completion. Most models have a context length of 2048 tokens (except for the newest models, which support 32,768).",
          "type": "number",
          "typeOptions": {
            "maxValue": 32768
          }
        },
        {
          "displayName": "Number of Completions",
          "name": "n",
          "default": 1,
          "description": "How many completions to generate for each prompt. Note: Because this parameter generates many completions, it can quickly consume your token quota. Use carefully and ensure that you have reasonable settings for max_tokens and stop.",
          "type": "number"
        },
        {
          "displayName": "Presence Penalty",
          "name": "presence_penalty",
          "default": 0,
          "typeOptions": {
            "maxValue": 2,
            "minValue": -2,
            "numberPrecision": 1
          },
          "description": "Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics",
          "type": "number"
        },
        {
          "displayName": "Output Randomness (Temperature)",
          "name": "temperature",
          "default": 1,
          "typeOptions": {
            "maxValue": 1,
            "minValue": 0,
            "numberPrecision": 1
          },
          "description": "Controls randomness: Lowering results in less random completions. As the temperature approaches zero, the model will become deterministic and repetitive. We generally recommend altering this or temperature but not both.",
          "type": "number"
        },
        {
          "displayName": "Output Randomness (Top P)",
          "name": "topP",
          "default": 1,
          "typeOptions": {
            "maxValue": 1,
            "minValue": 0,
            "numberPrecision": 1
          },
          "description": "An alternative to sampling with temperature, controls diversity via nucleus sampling: 0.5 means half of all likelihood-weighted options are considered. We generally recommend altering this or temperature but not both.",
          "type": "number"
        },
        {
          "displayName": "Max Tool Calls Iterations",
          "name": "maxToolsIterations",
          "type": "number",
          "default": 15,
          "description": "The maximum number of tool iteration cycles the LLM will run before stopping. A single iteration can contain multiple tool calls. Set to 0 for no limit.",
          "displayOptions": {
            "show": {
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.5
                  }
                }
              ]
            }
          }
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "message"
          ],
          "resource": [
            "text"
          ]
        }
      }
    }
  ],
  "operations": [
    {
      "operation": "create",
      "name": "Create an Assistant",
      "description": "Create a new assistant"
    },
    {
      "operation": "deleteAssistant",
      "name": "Delete an Assistant",
      "description": "Delete an assistant from the account"
    },
    {
      "operation": "list",
      "name": "List Assistants",
      "description": "List assistants in the organization"
    },
    {
      "operation": "message",
      "name": "Message an Assistant",
      "description": "Send messages to an assistant"
    },
    {
      "operation": "update",
      "name": "Update an Assistant",
      "description": "Update an existing assistant"
    }
  ],
  "credentials_required": [
    {
      "name": "openAiApi",
      "required": true
    }
  ],
  "updated_at": "2025-07-06 13:14:51",
  "generated_at": "2025-07-23T03:58:15.685Z",
  "api_version": "1.0.0"
}